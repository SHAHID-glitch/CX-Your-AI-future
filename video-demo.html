<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video Generation Demo - Stable Video Diffusion</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 900px;
            width: 100%;
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .content {
            padding: 40px 30px;
        }

        .demo-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }

        @media (max-width: 768px) {
            .demo-grid {
                grid-template-columns: 1fr;
            }
        }

        .demo-card {
            border: 2px solid #f0f0f0;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .demo-card:hover {
            border-color: #667eea;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
            transform: translateY(-5px);
        }

        .demo-card-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .demo-card h3 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .demo-card p {
            color: #666;
            font-size: 0.95em;
            line-height: 1.5;
        }

        .section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 1.8em;
            color: #333;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            color: #333;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.95em;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-family: inherit;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 25px;
            flex-wrap: wrap;
        }

        button {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
            min-width: 150px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: #f0f0f0;
            color: #333;
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        .char-counter {
            font-size: 0.85em;
            color: #999;
            margin-top: 5px;
        }

        .char-counter.warning {
            color: #ff9800;
        }

        .char-counter.error {
            color: #f44336;
        }

        .status-section {
            background: #f9f9f9;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .status-icon {
            font-size: 1.5em;
        }

        .status-text h4 {
            color: #333;
            margin-bottom: 3px;
        }

        .status-text p {
            color: #999;
            font-size: 0.9em;
        }

        .video-preview {
            background: #000;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .video-preview video {
            width: 100%;
            height: auto;
            display: block;
        }

        .video-placeholder {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 60px 20px;
            text-align: center;
            min-height: 300px;
        }

        .video-placeholder-icon {
            font-size: 4em;
            margin-bottom: 15px;
            opacity: 0.8;
        }

        .video-placeholder p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .loading-spinner {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .alert {
            padding: 15px 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }

        .alert.success {
            background: #e8f5e9;
            border: 1px solid #4caf50;
            color: #2e7d32;
            display: block;
        }

        .alert.error {
            background: #ffebee;
            border: 1px solid #f44336;
            color: #c62828;
            display: block;
        }

        .alert.info {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            color: #1565c0;
            display: block;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .feature-box {
            background: #f9f9f9;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
        }

        .feature-box-icon {
            font-size: 2em;
            margin-bottom: 10px;
        }

        .feature-box h4 {
            color: #333;
            margin-bottom: 8px;
            font-size: 0.95em;
        }

        .feature-box p {
            color: #999;
            font-size: 0.85em;
        }

        .tabs {
            display: flex;
            gap: 0;
            margin-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
        }

        .tab {
            padding: 12px 20px;
            border: none;
            background: none;
            cursor: pointer;
            font-weight: 600;
            color: #999;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            font-size: 1em;
        }

        .tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .prompt-suggestions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }

        .suggestion-btn {
            padding: 8px 12px;
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            transition: all 0.3s ease;
        }

        .suggestion-btn:hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üé¨ Video Generation Demo</h1>
            <p>Powered by Stable Video Diffusion</p>
        </div>

        <!-- Main Content -->
        <div class="content">
            <!-- Info Alert -->
            <div class="alert info">
                <strong>‚ÑπÔ∏è Demo Mode:</strong> This demo shows the video generation UI and flow. First generation may take 30-120 seconds as the model loads.
            </div>

            <!-- Tabs -->
            <div class="tabs">
                <button class="tab active" onclick="switchTab('generate')">Generate</button>
                <button class="tab" onclick="switchTab('examples')">Examples</button>
                <button class="tab" onclick="switchTab('features')">Features</button>
            </div>

            <!-- Generate Tab -->
            <div id="generate" class="tab-content active">
                <div class="section">
                    <h2 class="section-title">‚ú® Create Your Video</h2>
                    
                    <div class="form-group">
                        <label for="prompt">Video Description *</label>
                        <textarea id="prompt" placeholder="Describe what you want to see in your video. Be detailed and descriptive.&#10;&#10;Example: A golden sunset over mountains with birds flying in the sky"></textarea>
                        <div class="char-counter">
                            <span id="charCount">0</span> / 500 characters
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <div class="form-group">
                            <label for="duration">Duration</label>
                            <select id="duration">
                                <option value="0.5">Very Short (0.5s)</option>
                                <option value="1" selected>Short (1s)</option>
                                <option value="1.5">Medium (1.5s)</option>
                                <option value="2">Long (2s)</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="motion">Motion Strength</label>
                            <select id="motion">
                                <option value="10">Subtle</option>
                                <option value="25" selected>Normal</option>
                                <option value="40">Dynamic</option>
                                <option value="50">Extreme</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Suggested Prompts (Click to use)</label>
                        <div class="prompt-suggestions">
                            <button class="suggestion-btn" onclick="setPrompt('A cat walking through a sunny garden with flowers')">Cat in garden</button>
                            <button class="suggestion-btn" onclick="setPrompt('Ocean waves at sunset with golden light reflection')">Ocean sunset</button>
                            <button class="suggestion-btn" onclick="setPrompt('Aurora borealis dancing across the night sky')">Aurora borealis</button>
                            <button class="suggestion-btn" onclick="setPrompt('Colorful fireworks exploding over a city skyline')">Fireworks</button>
                            <button class="suggestion-btn" onclick="setPrompt('Waterfall flowing over rocks in a forest')">Waterfall</button>
                            <button class="suggestion-btn" onclick="setPrompt('Snow falling on pine trees in winter landscape')">Snowy forest</button>
                        </div>
                    </div>

                    <div class="button-group">
                        <button class="btn-primary" onclick="generateVideo()">
                            <span id="btnText">‚ú® Generate Video</span>
                        </button>
                        <button class="btn-secondary" onclick="clearForm()">Clear</button>
                    </div>
                </div>

                <!-- Video Preview -->
                <div class="section">
                    <h2 class="section-title">üé• Your Video</h2>
                    <div class="video-preview" id="videoContainer">
                        <div class="video-placeholder">
                            <div class="video-placeholder-icon">üé¨</div>
                            <p>Your generated video will appear here</p>
                        </div>
                    </div>
                    <div class="button-group" id="videoActions" style="display: none;">
                        <button class="btn-primary" onclick="downloadVideo()">‚¨áÔ∏è Download Video</button>
                        <button class="btn-secondary" onclick="shareVideo()">‚ÜóÔ∏è Share</button>
                        <button class="btn-secondary" onclick="generateAgain()">üîÑ Generate Another</button>
                    </div>
                </div>

                <!-- Status -->
                <div class="status-section" id="statusSection" style="display: none;">
                    <div class="status-item">
                        <div class="status-icon" id="statusIcon">‚è≥</div>
                        <div class="status-text">
                            <h4 id="statusTitle">Generating...</h4>
                            <p id="statusMessage">Connecting to model and starting generation</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Examples Tab -->
            <div id="examples" class="tab-content">
                <div class="section">
                    <h2 class="section-title">üìö Example Videos</h2>
                    <p style="color: #666; margin-bottom: 20px;">Here are some example prompts and what they produce:</p>
                    
                    <div class="demo-grid">
                        <div class="demo-card">
                            <div class="demo-card-icon">üåÖ</div>
                            <h3>Landscape</h3>
                            <p>"A serene mountain landscape with morning mist and golden sunlight filtering through trees"</p>
                            <p style="margin-top: 15px; font-size: 0.85em; color: #999;">Duration: 2s | Motion: Normal</p>
                        </div>

                        <div class="demo-card">
                            <div class="demo-card-icon">üåä</div>
                            <h3>Nature</h3>
                            <p>"Ocean waves crashing on a rocky beach with sea spray and white foam"</p>
                            <p style="margin-top: 15px; font-size: 0.85em; color: #999;">Duration: 2s | Motion: Dynamic</p>
                        </div>

                        <div class="demo-card">
                            <div class="demo-card-icon">‚ú®</div>
                            <h3>Abstract</h3>
                            <p>"Colorful particles flowing through space creating geometric patterns"</p>
                            <p style="margin-top: 15px; font-size: 0.85em; color: #999;">Duration: 2s | Motion: Extreme</p>
                        </div>

                        <div class="demo-card">
                            <div class="demo-card-icon">üèôÔ∏è</div>
                            <h3>Urban</h3>
                            <p>"City lights at night with cars moving through illuminated streets"</p>
                            <p style="margin-top: 15px; font-size: 0.85em; color: #999;">Duration: 1.5s | Motion: Normal</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Features Tab -->
            <div id="features" class="tab-content">
                <div class="section">
                    <h2 class="section-title">‚ö° Key Features</h2>
                    
                    <div class="features-grid">
                        <div class="feature-box">
                            <div class="feature-box-icon">üé¨</div>
                            <h4>AI-Generated Videos</h4>
                            <p>Creates videos from text descriptions using advanced AI models</p>
                        </div>

                        <div class="feature-box">
                            <div class="feature-box-icon">‚è±Ô∏è</div>
                            <h4>Adjustable Duration</h4>
                            <p>Control video length from 0.5s to 2s</p>
                        </div>

                        <div class="feature-box">
                            <div class="feature-box-icon">üåä</div>
                            <h4>Motion Control</h4>
                            <p>Adjust motion strength from subtle to extreme</p>
                        </div>

                        <div class="feature-box">
                            <div class="feature-box-icon">‚¨áÔ∏è</div>
                            <h4>Download MP4</h4>
                            <p>Save your videos as high-quality MP4 files</p>
                        </div>

                        <div class="feature-box">
                            <div class="feature-box-icon">‚ÜóÔ∏è</div>
                            <h4>Easy Sharing</h4>
                            <p>Share videos directly with friends and on social media</p>
                        </div>

                        <div class="feature-box">
                            <div class="feature-box-icon">üöÄ</div>
                            <h4>Fast Generation</h4>
                            <p>Get your video in 30-120 seconds</p>
                        </div>
                    </div>

                    <div style="background: #f9f9f9; border-radius: 12px; padding: 20px; margin-top: 30px;">
                        <h3 style="color: #333; margin-bottom: 15px;">üéØ How It Works</h3>
                        <ol style="color: #666; line-height: 1.8; padding-left: 20px;">
                            <li><strong>Describe your video:</strong> Write a detailed prompt describing what you want to see</li>
                            <li><strong>Choose settings:</strong> Adjust duration and motion strength</li>
                            <li><strong>Generate:</strong> Click the generate button and wait for your video</li>
                            <li><strong>Enjoy:</strong> Watch, download, or share your AI-generated video</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Store generated video data
        let lastGeneratedVideo = null;

        // Tab switching
        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Character counter
        document.getElementById('prompt').addEventListener('input', function() {
            const count = this.value.length;
            const counter = document.getElementById('charCount');
            counter.textContent = count;

            const counterDiv = counter.parentElement;
            if (count > 500) {
                counterDiv.classList.add('error');
                this.value = this.value.substring(0, 500);
                counter.textContent = '500';
            } else if (count > 400) {
                counterDiv.classList.add('warning');
                counterDiv.classList.remove('error');
            } else {
                counterDiv.classList.remove('warning', 'error');
            }
        });

        // Set prompt from suggestion
        function setPrompt(text) {
            document.getElementById('prompt').value = text;
            document.getElementById('charCount').textContent = text.length;
        }

        // Clear form
        function clearForm() {
            document.getElementById('prompt').value = '';
            document.getElementById('charCount').textContent = '0';
            document.getElementById('duration').value = '1';
            document.getElementById('motion').value = '25';
        }

        // Update status
        function updateStatus(icon, title, message) {
            const section = document.getElementById('statusSection');
            document.getElementById('statusIcon').textContent = icon;
            document.getElementById('statusTitle').textContent = title;
            document.getElementById('statusMessage').textContent = message;
            section.style.display = 'block';
        }

        // Generate video (demo)
        async function generateVideo() {
            const prompt = document.getElementById('prompt').value.trim();
            const duration = parseFloat(document.getElementById('duration').value);
            const motion = parseInt(document.getElementById('motion').value);

            if (!prompt) {
                alert('Please enter a video description');
                return;
            }

            const btn = event.target;
            btn.disabled = true;
            btn.innerHTML = '‚è≥ Generating...';

            updateStatus('‚è≥', 'Generating Video', 'Connecting to Stable Video Diffusion model...');

            try {
                // Simulate API call
                await new Promise(resolve => setTimeout(resolve, 2000));
                updateStatus('üì•', 'Downloading', 'Downloading your generated video...');
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                updateStatus('üíæ', 'Saving', 'Saving video to your device...');
                
                await new Promise(resolve => setTimeout(resolve, 500));

                // Create a sample video blob (in real scenario, this comes from server)
                const sampleVideo = createSampleVideo();
                
                // Display preview
                const videoContainer = document.getElementById('videoContainer');
                videoContainer.innerHTML = `
                    <video controls style="width: 100%; height: auto;">
                        <source src="${sampleVideo}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                `;

                // Store video data
                lastGeneratedVideo = {
                    url: sampleVideo,
                    prompt: prompt,
                    duration: duration,
                    motion: motion,
                    timestamp: new Date().toISOString()
                };

                // Show video actions
                document.getElementById('videoActions').style.display = 'flex';

                // Update status
                updateStatus('‚úÖ', 'Complete!', `Video generated successfully in ~${(duration * 50).toFixed(0)}s`);

                // Auto-hide status after 3 seconds
                setTimeout(() => {
                    document.getElementById('statusSection').style.display = 'none';
                }, 3000);

            } catch (error) {
                updateStatus('‚ùå', 'Error', error.message);
            } finally {
                btn.disabled = false;
                btn.innerHTML = '‚ú® Generate Video';
            }
        }

        // Create sample video (canvas-based demo)
        function createSampleVideo() {
            const canvas = document.createElement('canvas');
            canvas.width = 640;
            canvas.height = 480;
            const ctx = canvas.getContext('2d');

            // Create gradient background
            const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
            gradient.addColorStop(0, '#667eea');
            gradient.addColorStop(1, '#764ba2');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Add text
            ctx.fillStyle = 'white';
            ctx.font = 'bold 48px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('üé¨ AI Video Generated', canvas.width / 2, canvas.height / 2 - 40);
            
            ctx.font = '24px Arial';
            ctx.fillText('Powered by Stable Video Diffusion', canvas.width / 2, canvas.height / 2 + 40);

            // Convert canvas to blob
            return canvas.toDataURL('video/mp4');
        }

        // Download video
        function downloadVideo() {
            if (!lastGeneratedVideo) return;
            
            const link = document.createElement('a');
            link.href = lastGeneratedVideo.url;
            link.download = `video-${Date.now()}.mp4`;
            link.click();
        }

        // Share video
        function shareVideo() {
            if (!lastGeneratedVideo) return;

            const text = `Check out this AI-generated video: "${lastGeneratedVideo.prompt}"`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'AI Generated Video',
                    text: text
                }).catch(err => console.log('Share failed:', err));
            } else {
                alert('Share functionality not available. Video saved to your device.');
            }
        }

        // Generate another
        function generateAgain() {
            clearForm();
            document.getElementById('videoContainer').innerHTML = `
                <div class="video-placeholder">
                    <div class="video-placeholder-icon">üé¨</div>
                    <p>Your generated video will appear here</p>
                </div>
            `;
            document.getElementById('videoActions').style.display = 'none';
            document.getElementById('statusSection').style.display = 'none';
            document.getElementById('prompt').focus();
        }
    </script>
</body>
</html>
